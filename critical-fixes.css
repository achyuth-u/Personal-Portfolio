/* 
 * Critical CSS Fixes for Achyuth Unni Portfolio
 * These fixes address display and performance issues
 */

/* Fix critical visibility issues */
body, section, header, .container, #particles-js {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Fix particles.js background */
#particles-js {
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
    top: 0 !important;
    left: 0 !important;
    z-index: -1 !important;
    background-color: transparent !important;
}

.light-theme #particles-js {
    opacity: 0.3 !important;
}

/* Light mode text contrast fix - ensure dark text */
.light-theme .container,
.light-theme .glass-effect,
.light-theme nav ul li a,
.light-theme .typing-text,
.light-theme .about-content p,
.light-theme .card-content p,
.light-theme .card-content li,
.light-theme .timeline-details,
.light-theme footer h2,
.light-theme #contact-info h2 {
    color: #333333 !important; /* Force dark text in light mode */
}

/* Fix for contact me text in light mode */
.light-theme footer,
.light-theme #contact-info .container {
    color: #333333 !important;
}

/* Timeline date/dot fix - prevent overlap */
.timeline-date {
    z-index: 2 !important; /* Ensure date appears above the dot */
}

.timeline-item:nth-child(odd) .timeline-date {
    right: -160px !important; /* Increased from -150px to prevent overlap */
}

.timeline-item:nth-child(even) .timeline-date {
    left: -160px !important; /* Increased from -150px to prevent overlap */
}

/* Prevent flash of unstyled content */
.container {
    background-color: rgba(30, 30, 30, 0.8);
    color: #e0e0e0;
}

/* Light theme detection */
@media (prefers-color-scheme: light) {
    .container {
        background-color: rgba(255, 255, 255, 0.8);
        color: #333333;
    }
}

/* Enhance light mode background visibility */
.light-theme::before {
    opacity: 0.1 !important;
    filter: contrast(1.2) brightness(0.9) !important;
}

/* Ensure animations don't hide content */
.animate-on-scroll {
    will-change: transform, opacity;
}

/* Fix mobile display issues */
@media screen and (max-width: 768px) {
    .timeline-date {
        top: -30px !important;
        left: 70px !important;
        right: auto !important;
        width: auto !important; 
        max-width: calc(100% - 70px) !important;
    }
    
    .timeline-dot {
        left: 31px !important;
        right: auto !important;
    }
    
    .timeline-content {
        margin-top: 40px !important;
    }
}

/* Force proper rendering for Light/Dark mode */
.light-theme .glass-effect {
    background: rgba(255, 255, 255, 0.9) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

/* Ensure buttons and interactive elements work properly */
button, a {
    cursor: pointer !important;
    position: relative !important;
    z-index: 10 !important;
}

/* Performance optimizations */
@media (prefers-reduced-motion: reduce) {
    * {
        transition: none !important;
        animation: none !important;
    }
}

/* Fix scroll to top button position */
#scrollToTop {
    position: fixed !important; 
    bottom: 30px !important;
    right: 30px !important;
    z-index: 999 !important;
}

/* Hide theme toggle when lightbox is open */
.lightbox-active .theme-toggle-container {
    display: none !important;
}

/* Uniform timeline date spacing */
.timeline-date {
    width: 130px !important;
    text-align: center !important;
}